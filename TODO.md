# HexSBM — Планы и улучшения

## Часть 1: Подготовка к бэтта версии

### 1. Улучшение UI и визуального оформления
1. Элементы ввода текста.
  - Большое количество символов выходят за рамки элемента.
  - При вводе большого числа в RGB оно сбрасывается до 231, а не 255.
  - В RGB при скроле больше 255 значение сбрасывается до 0
2. Конфиг панель.
  - Элементы конфиг панели налазят на рамку(белая рамка в 1px).
  - CONTENT_HEIGHT сделать больше.
3. Если одно из колец закрывает кнопку открытия конфига(справа) - конфиг нельзя открыть.
4. Заменить ТУМБЛЕРЫ на чекбоксы, а то тут один чупапкинс не доволен.
### 2. Добавление заглушек
- В интерфейсе добавить:
  - Сохранить параметры.
- Эти элементы должны быть **видимы**, но **не функциональны**.

### 3. Локализация
- Заменить все `Text.literal("...")` на `Text.translatable("key")`.
- Создать файлы:
  - `assets/hexsbm/lang/en_us.json`
  - `assets/hexsbm/lang/ru_ru.json`
  - `assets/hexsbm/lang/zh_cn.json`

### 4. Чистка кода
- Удалить мёртвый код.
- Устранить дублирование.
- Упростить сложные методы.
- Привести стиль к единому виду.
- Обеспечить Single Responsibility для каждого файла.

---

## Часть 2: Дальнейшая разработка (после бэтты)

### 1. Нереализованные функции
- Режим подсветки секторов:
  - В режиме "По заклинанию" подсвечивать только секторы, содержащие заклинания, и их группы.
  - В режиме "Всегда" подсвечивать все секторы.
  - Опция "Никогда" — решить, удалять или оставить.
- Режим выбора по зажатию:
  - При отпускании клавиши выбирать заклинание, находящееся под курсором.
  - Сохранить выбор по клику как альтернативу.

### 2. Баги и улучшения
- В NumberField: при прокрутке колёсиком, если поле в состоянии редактирования, применять значение из буфера перед изменением.
- Реализовать копирование/вставку через правую кнопку мыши (поведение как в терминале).
- Запретить выделение текста внутри NumberField (или сделать его не влияющим на ввод).
- Улучшить поведение CycleField и ToggleField: сделать их интуитивно понятными.
- Устранить визуальную "кашу" в ConfigPanel: усилить визуальное разделение секций.
- **ARGB-настройки**: канал **A (прозрачность) не влияет на итоговый цвет**, так как перекрывается логикой градиента и прозрачностью из `activeAlpha`/`hoverAlpha`/`inactiveAlpha`.  
  → Требуется переработка системы цвета, чтобы `A` управлял общей прозрачностью.
  → В целом много проблем с управлением градиентом и прозрачностью (они связаны).

### 3. Производительность и архитектура
- Оптимизировать перерисовку: не пересоздавать `ColorScheme` каждый кадр, если цвет не изменился.
- Рассмотреть возможность кэширования пигментов (если это даст выигрыш).
- Уточнить, что значит "привязка цвета к активному заклинанию", и реализовать, если это необходимо.